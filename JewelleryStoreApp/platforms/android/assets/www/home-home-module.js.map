{"version":3,"sources":["webpack:///./src/app/home/home.module.ts","webpack:///./src/app/home/home.page.html","webpack:///./src/app/home/home.page.scss","webpack:///./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      Visual Recognition Jewellery Store\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <ion-list>\\n\\n    <ion-card>\\n      <ion-card-content>\\n        <ion-card-subtitle>Step 1: enter your name & choose your photo</ion-card-subtitle>\\n\\n          <ion-input autocomplete=\\\"on\\\" [(ngModel)]=\\\"name\\\" placeholder=\\\"Click here to enter NAME\\\"></ion-input>\\n          <ion-button *ngIf=\\\"flag == false\\\" expand=\\\"block\\\" (click)=\\\"presentActionSheet()\\\" color=\\\"light\\\">\\n              choose your photo\\n            </ion-button>\\n            <ion-label *ngIf=\\\"flag3 == true\\\">Photo Selected <ion-icon name=\\\"checkmark-circle\\\" slot=\\\"end\\\"></ion-icon> </ion-label>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-card *ngIf=\\\"flag2 == true\\\">\\n      <ion-card-content>\\n        <ion-card-subtitle>Step 2: confirm your age and gender</ion-card-subtitle>\\n        <ion-item *ngFor=\\\"let item of result\\\">\\n          <ion-input autocomplete=\\\"on\\\" [(ngModel)]=\\\"age\\\"></ion-input>\\n          <ion-input autocomplete=\\\"on\\\" [(ngModel)]=\\\"gender\\\"></ion-input>\\n        </ion-item>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-card *ngIf=\\\"flag2 == true\\\">\\n      <ion-card-content>\\n        <ion-card-subtitle>Step 3: get recommendations based on your age and gender</ion-card-subtitle>\\n        <ion-button expand=\\\"block\\\" (click)=\\\"getRecommendations()\\\" color=\\\"dark\\\">\\n          Get Recommendations\\n        </ion-button>\\n      </ion-card-content>\\n    </ion-card>\\n\\n    <ion-card *ngIf=\\\"flag2 == true\\\" >\\n      <ion-card-content>\\n        <ion-card-subtitle>not satisfied with the results?</ion-card-subtitle>\\n        <ion-button expand=\\\"block\\\" (click)=\\\"presentActionSheet()\\\" color=\\\"light\\\">\\n          <ion-ripple-effect></ion-ripple-effect>Retake ?\\n        </ion-button>\\n      </ion-card-content>\\n    </ion-card>\\n\\n  </ion-list>\\n  <ion-list>\\n\\n  </ion-list>\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\"","import { Component } from '@angular/core';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { Base64ToGallery } from '@ionic-native/base64-to-gallery/ngx';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';  \nimport { FileChooser } from '@ionic-native/file-chooser/ngx';\nimport { NavController, LoadingController, ToastController } from '@ionic/angular';\nimport { FilePath } from '@ionic-native/file-path/ngx';\nimport { File } from '@ionic-native/file/ngx'; \nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { ActionSheetController } from '@ionic/angular';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { ProviderService } from '../provider.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n\n  name:string;\n  age:string;\n  gender:string;\n  manualdetails:boolean = false;\n  photos:any;\n  rawImage:any;\n  result:any = [];\n  data:Observable<any>;\n  flag:boolean = false;\n  flag2:boolean = false;\n  flag3:boolean = false;\n  myphoto:any = null;\n  fileTransfer:FileTransferObject;\n  upload:any;\n  url:string;\n  VisualRecognitionAPI:string;\n  VisualRecognitionAccess:any;\n\n  constructor(private camera:Camera, private base64ToGallery: Base64ToGallery,\n    private file: File, private http: HttpClient, private transfer:FileTransfer,\n    private filePath:FilePath, private fileChooser:FileChooser, private nav: NavController,\n    public loadingController:LoadingController, public actionSheetController: ActionSheetController,\n    private androidPermissions: AndroidPermissions, public providerService: ProviderService, public toastController: ToastController){\n    this.getCameraPermission();\n    this.inputMethod(false);\n  }\n\n  inputMethod(value: boolean){\n    this.manualdetails = value;\n    if (!this.manualdetails){\n      this.loadVisualRecognition();\n    }\n  }\n\n  getCameraPermission(){\n    console.log('--> Camera permission checking in progress');\n    this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.CAMERA).then((result) => {\n      console.log('Has permission?',result.hasPermission);\n      if (!result.hasPermission){\n        this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.CAMERA);\n      }\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n   //Toast setup\n\n   async presentToastWithOptions(msg:string) {\n    const toast = await this.toastController.create({\n      message: msg,\n      showCloseButton: false,\n      position: 'bottom',\n      duration: 1000\n    });\n    toast.present();\n  }\n\n  async loadVisualRecognition() {\n    const loading = await this.loadingController.create({\n      message: 'Checking Watson Visual Recognition Configuration...',\n    });\n    loading.present().then(() => {\n      console.log('--> Checking Watson Visual Recognition Configuration');\n        this.providerService.getVisualRecognitionAccess().then( (VisualRecognitionAccess) => {\n          this.VisualRecognitionAccess = VisualRecognitionAccess;\n          console.log('--> Received Object: '+this.VisualRecognitionAccess);\n          this.url = this.VisualRecognitionAccess.VisualRecognitionApi;\n          console.log('--> Visual Recognition configured: '+this.url);\n          loading.dismiss();\n          this.presentToastWithOptions(\"Visual Recognition Configured.\");\n        }, (err) => {\n          console.log(\"--> MobileFirst Foundation error: \"+err);\n          this.manualdetails = true;\n          loading.dismiss();\n          this.presentToastWithOptions(\"Visual Recognition is not configured. please enter details manually.\");\n        });\n    }).catch (() => {\n      this.presentToastWithOptions(\"MobileFirst Foundation Adapter Failed to make API call.\");\n    });\n  }\n\n\nasync captureImage(useAlbum: boolean) {\n  console.log('--> Image Capture in progress');\n  this.flag = true;\n  const CaptureOptions: CameraOptions = {\n    quality: 40,\n    destinationType: this.camera.DestinationType.DATA_URL,\n    encodingType: this.camera.EncodingType.JPEG,\n    mediaType: this.camera.MediaType.PICTURE,\n    ...useAlbum ? {sourceType: this.camera.PictureSourceType.SAVEDPHOTOALBUM} : {}\n  }\n  const imageData = await this.camera.getPicture(CaptureOptions);\n  this.myphoto = `data:image/jpeg;base64,${imageData}`;\n\n  if (!useAlbum) {\n    const saveOptions = {\n      prefix: 'Watson',\n      mediaScanner:true\n    }\n    this.base64ToGallery.base64ToGallery(imageData, saveOptions).then(\n      res => console.log('Saved image to gallery ', this.rawImage = res),\n      err => console.log('Error saving image to gallery ', err));\n    }\n    alert('Now select the image from the list...');\n    this.uploadFile();\n  }\n\nasync uploadFile(){\n  this.flag = true;\n  this.flag3 = true;\n  var url = this.url+'/api/Upload';\n  const loading = await this.loadingController.create({\n    message: 'Making Watson Visual Recognition API call please wait...',\n  });\n  this.fileChooser.open().then((uri) => {\n    console.log(uri);\n    loading.present().then(() => {\n    this.filePath.resolveNativePath(uri).then((nativepath) => {\n      this.fileTransfer = this.transfer.create();\n      const UploadOptions:FileUploadOptions = {\n        fileKey:'imgUploader',\n        fileName:'image.jpg',\n        chunkedMode:false,\n        headers:{},\n        mimeType:'multipart/form-data',\n      }\n      this.fileTransfer.upload(nativepath,url,UploadOptions).then((data) =>{\n        loading.dismiss();\n        this.WatsonVisualRecognition();\n      },(err) => {\n        loading.dismiss();\n        alert('ERROR: '+JSON.stringify(err));\n      })\n    },(err)=> {\n      alert(JSON.stringify(err));\n    })\n  },(err) => {\n    loading.dismiss();\n    alert('Error Making API Call: '+JSON.stringify(err));\n  });\n})\n}\n\nasync WatsonVisualRecognition(){  \n  var url = this.url+'/watson';\n  const loading = await this.loadingController.create({\n    message: 'Analysing Image please wait...',\n  });\n  \n  loading.present().then( () => {\n    \n    console.log('--> Calling Watson API');\n\n      this.data = this.http.get(url);\n      this.data.subscribe(data => {\n      this.result = data;\n      for (const i of data) {\n        this.age = i.age;\n        this.gender = i.gender;\n      }\n      \n      this.flag2 = true;\n      loading.dismiss();\n    });\n  });\n}\n\nasync presentActionSheet() {\n  const actionSheet = await this.actionSheetController.create({\n    header: 'Watson Visual Recognition',\n    buttons: [{\n      text: 'Open camera to capture your Image',\n      icon: 'camera',\n      handler: () => {\n        this.captureImage(false);\n      }\n    }, {\n      text: 'Choose your existing Image',\n      icon: 'photos',\n      handler: () => {\n        this.uploadFile();\n      }\n    }]\n  });\n  await actionSheet.present();\n}\n\ngetRecommendations(){\n  if (this.gender == 'MALE'){\n    this.gender = 'M';\n  }\n  if (this.gender == 'FEMALE'){\n    this.gender = 'F';\n  }\n\n  if (this.name == null){\n    this.presentToastWithOptions(\"Please Enter a Name\");\n  }\n  else if (this.age == null){\n    this.presentToastWithOptions(\"Please Enter age\");\n  }\n  else if (this.gender == null){\n    this.presentToastWithOptions(\"Please choose a gender\");\n  }\n  else if (this.name != null && this.age != null && this.gender !=null){\n    this.nav.navigateForward(`/recommendation/${this.age}/${this.name}/${this.gender}`);\n  }\n  else {\n    this.presentToastWithOptions(\"Check the Name/Age/Gender and try again.\");\n  }  \n}\n}\n"],"sourceRoot":""}