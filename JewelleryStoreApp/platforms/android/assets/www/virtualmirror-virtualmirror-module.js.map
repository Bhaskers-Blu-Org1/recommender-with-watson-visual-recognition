{"version":3,"sources":["webpack:///./src/app/virtualmirror/virtualmirror.module.ts","webpack:///./src/app/virtualmirror/virtualmirror.page.html","webpack:///./src/app/virtualmirror/virtualmirror.page.scss","webpack:///./src/app/virtualmirror/virtualmirror.page.ts"],"names":[],"mappings":"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","file":"virtualmirror-virtualmirror-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VirtualmirrorPage, SafePipe } from './virtualmirror.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VirtualmirrorPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [VirtualmirrorPage, SafePipe]\n})\nexport class VirtualmirrorPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      \\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <iframe allow=\\\"camera\\\" frameborder=\\\"0\\\" scrolling=\\\"no\\\" [src]=\\\"finalUrl | safe\\\" height=\\\"700\\\" width=\\\"385\\\"></iframe>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpcnR1YWxtaXJyb3IvdmlydHVhbG1pcnJvci5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { ProviderService } from '../provider.service';\nimport { ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-virtualmirror',\n  templateUrl: './virtualmirror.page.html',\n  styleUrls: ['./virtualmirror.page.scss'],\n})\nexport class VirtualmirrorPage implements OnInit {\n\n  virtualMirrorAPI:string;\n  virtualMirrorAccess:any;\n  objectStorageAccess:any;\n  objectStorageBaseUrl:string;\n  receivedUrl:string;\n  folder:string;\n  finalUrl:string; \n  imgUrl:string;\n  type:string;\n  height:string;\n  width:string;\n\n  constructor(public loadingController:LoadingController, public toastController: ToastController, private activatedRoute: ActivatedRoute, public sanitizer: DomSanitizer, public providerService: ProviderService) { \n    \n    // Get the parameters from recommendation page\n\n    this.folder = this.activatedRoute.snapshot.paramMap.get('folder');\n    this.receivedUrl = this.activatedRoute.snapshot.paramMap.get('imageUrl');\n    this.type = this.activatedRoute.snapshot.paramMap.get('type');\n    this.height = this.activatedRoute.snapshot.paramMap.get('height');\n    this.width = this.activatedRoute.snapshot.paramMap.get('width');\n    this.virtualMirrorAPI = this.activatedRoute.snapshot.paramMap.get('api');\n\n  }\n\n\n  async presentToastWithOptions(msg:string) {\n    const toast = await this.toastController.create({\n      message: msg,\n      showCloseButton: false,\n      position: 'bottom',\n      duration: 1000\n    });\n    toast.present();\n  }\n\n\n  // Connect to Cloud Object Storage through Mobile Foundation\n\n  async loadCloudObjectStorageData() {\n    const loading = await this.loadingController.create({\n      message: 'Authorizing Cloud Object Storage...',\n    });\n    loading.present().then(() => {\n      console.log('--> Cloud Object Storage authorization method in Virtual Mirror page called');\n        this.providerService.getObjectStorageAccess().then(objectStorageAccess => {\n          this.objectStorageAccess = objectStorageAccess;\n          console.log('--> Received Object: '+this.objectStorageAccess);\n          this.objectStorageBaseUrl = this.objectStorageAccess.baseUrl;\n          this.imgUrl=this.objectStorageBaseUrl+this.folder+\"/\"+this.receivedUrl;\n          console.log('--> Image: '+this.imgUrl);\n          loading.dismiss();\n          this.presentToastWithOptions(\"Cloud Object Storage authorization successful.\");\n        });\n    }).catch (() => {\n      this.presentToastWithOptions(\"MobileFirst Foundation Adapter Failed to authorize COS.\");\n    });\n  }\n\n  async VirtualMirror(){\n    const loading = await this.loadingController.create({\n      message: 'please wait...',\n    });\n    const loadingagain = await this.loadingController.create({\n      message: 'Loading Virtual Mirror...',\n      duration: 6000\n    });   \n    loading.present().then( () => {\n      this.finalUrl=\"https://\"+this.virtualMirrorAPI+\"/page2.html?para1=\"+this.imgUrl+\"=\"+this.type+\"=\"+this.height+\"=\"+this.width;\n      console.log('--> Final URL: '+this.finalUrl);\n      loading.dismiss();\n      loadingagain.present();\n    });\n  }\n\n  ngOnInit() {\n    this.loadCloudObjectStorageData();\n    \n    if(this.virtualMirrorAPI !== null)\n    {\n      this.VirtualMirror();\n    }\n    else\n    {\n      this.presentToastWithOptions(\"Virtual Mirror Not Configured. Cannot Open.\");\n    }\n  }\n}\n\n// !Important -> Required to display iframe\n\n@Pipe({ name: 'safe' })\nexport class SafePipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {}\n  transform(finalUrl) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(finalUrl);\n  }\n} \n"],"sourceRoot":""}